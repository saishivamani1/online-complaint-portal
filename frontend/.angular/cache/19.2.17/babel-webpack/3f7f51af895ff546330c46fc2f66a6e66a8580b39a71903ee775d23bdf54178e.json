{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ComplaintListComponent_div_6_img_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"img\", 5);\n  }\n  if (rf & 2) {\n    const c_r2 = i0.ÉµÉµnextContext().$implicit;\n    i0.ÉµÉµproperty(\"src\", \"/uploads/\" + c_r2.photo, i0.ÉµÉµsanitizeUrl);\n  }\n}\nfunction ComplaintListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 3);\n    i0.ÉµÉµlistener(\"click\", function ComplaintListComponent_div_6_Template_div_click_0_listener() {\n      const c_r2 = i0.ÉµÉµrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r2.open(c_r2));\n    });\n    i0.ÉµÉµelementStart(1, \"h3\");\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementStart(3, \"span\");\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(5, \"p\");\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(7, ComplaintListComponent_div_6_img_7_Template, 1, 1, \"img\", 4);\n    i0.ÉµÉµelementStart(8, \"small\");\n    i0.ÉµÉµtext(9);\n    i0.ÉµÉµpipe(10, \"date\");\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\"\", c_r2.title, \" \\u2014 \");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµclassMapInterpolate1(\"status \", c_r2.status, \"\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate(c_r2.status);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r2.description);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", c_r2.photo);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\"Filed: \", i0.ÉµÉµpipeBind2(10, 8, c_r2.createdAt, \"medium\"), \"\");\n  }\n}\nfunction ComplaintListComponent_div_7_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"button\", 10);\n    i0.ÉµÉµlistener(\"click\", function ComplaintListComponent_div_7_button_10_Template_button_click_0_listener() {\n      i0.ÉµÉµrestoreView(_r6);\n      const c_r5 = i0.ÉµÉµnextContext().$implicit;\n      const ctx_r2 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r2.remove(c_r5._id));\n    });\n    i0.ÉµÉµtext(1, \" Delete \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ComplaintListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 6)(1, \"h3\");\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementStart(3, \"span\");\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(5, \"p\");\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"div\", 7)(8, \"button\", 8);\n    i0.ÉµÉµlistener(\"click\", function ComplaintListComponent_div_7_Template_button_click_8_listener() {\n      const c_r5 = i0.ÉµÉµrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r2.open(c_r5));\n    });\n    i0.ÉµÉµtext(9, \"View\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(10, ComplaintListComponent_div_7_button_10_Template, 2, 0, \"button\", 9);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\"\", c_r5.title, \" \\u2014 \");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµclassMapInterpolate1(\"status \", c_r5.status, \"\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate(c_r5.status);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(c_r5.description);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r2.canDelete(c_r5));\n  }\n}\nexport let ComplaintListComponent = /*#__PURE__*/(() => {\n  class ComplaintListComponent {\n    constructor(api, router) {\n      this.api = api;\n      this.router = router;\n      this.complaints = [];\n      this.userName = localStorage.getItem('userName') || '';\n    }\n    ngOnInit() {\n      this.api.myComplaints().subscribe(r => this.complaints = r);\n    }\n    open(c) {\n      this.router.navigate(['/complaints', c._id]);\n    }\n    static {\n      this.Éµfac = function ComplaintListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ComplaintListComponent)(i0.ÉµÉµdirectiveInject(i1.ApiService), i0.ÉµÉµdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n        type: ComplaintListComponent,\n        selectors: [[\"app-complaint-list\"]],\n        decls: 8,\n        vars: 3,\n        consts: [[\"routerLink\", \"/new\", 1, \"btn\"], [\"class\", \"card\", \"style\", \"cursor:pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"width\", \"220\", \"style\", \"border-radius:10px\", 3, \"src\", 4, \"ngIf\"], [\"width\", \"220\", 2, \"border-radius\", \"10px\", 3, \"src\"], [1, \"card\"], [1, \"actions\"], [3, \"click\"], [\"class\", \"danger\", 3, \"click\", 4, \"ngIf\"], [1, \"danger\", 3, \"click\"]],\n        template: function ComplaintListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ÉµÉµelementStart(0, \"h2\");\n            i0.ÉµÉµtext(1);\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(2, \"h3\");\n            i0.ÉµÉµtext(3, \"My Complaints\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµelementStart(4, \"a\", 0);\n            i0.ÉµÉµtext(5, \"+ New complaint\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtemplate(6, ComplaintListComponent_div_6_Template, 11, 11, \"div\", 1)(7, ComplaintListComponent_div_7_Template, 11, 7, \"div\", 2);\n          }\n          if (rf & 2) {\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµtextInterpolate1(\"Welcome\", ctx.userName ? \", \" + ctx.userName : \"\", \" \\uD83D\\uDC4B\");\n            i0.ÉµÉµadvance(5);\n            i0.ÉµÉµproperty(\"ngForOf\", ctx.complaints);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngForOf\", ctx.complaints);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DatePipe, RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return ComplaintListComponent;\n})();","map":{"version":3,"names":["CommonModule","RouterLink","i0","ÉµÉµelement","ÉµÉµproperty","c_r2","photo","ÉµÉµsanitizeUrl","ÉµÉµelementStart","ÉµÉµlistener","ComplaintListComponent_div_6_Template_div_click_0_listener","ÉµÉµrestoreView","_r1","$implicit","ctx_r2","ÉµÉµnextContext","ÉµÉµresetView","open","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµtemplate","ComplaintListComponent_div_6_img_7_Template","ÉµÉµadvance","ÉµÉµtextInterpolate1","title","ÉµÉµclassMapInterpolate1","status","ÉµÉµtextInterpolate","description","ÉµÉµpipeBind2","createdAt","ComplaintListComponent_div_7_button_10_Template_button_click_0_listener","_r6","c_r5","remove","_id","ComplaintListComponent_div_7_Template_button_click_8_listener","_r4","ComplaintListComponent_div_7_button_10_Template","canDelete","ComplaintListComponent","constructor","api","router","complaints","userName","localStorage","getItem","ngOnInit","myComplaints","subscribe","r","c","navigate","ÉµÉµdirectiveInject","i1","ApiService","i2","Router","selectors","decls","vars","consts","template","ComplaintListComponent_Template","rf","ctx","ComplaintListComponent_div_6_Template","ComplaintListComponent_div_7_Template","i3","NgForOf","NgIf","DatePipe","encapsulation"],"sources":["/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/complaint-list/complaint-list.component.ts","/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/complaint-list/complaint-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterLink } from '@angular/router';\nimport { ApiService } from '../../services/api.service';\nimport { Complaint } from '../../models/complaint.model';\n\n@Component({\n  selector: 'app-complaint-list',\n  standalone: true,\n  imports: [CommonModule, RouterLink],\n  templateUrl: './complaint-list.component.html'\n})\nexport class ComplaintListComponent implements OnInit {\n  complaints: Complaint[] = [];\n  userName = localStorage.getItem('userName') || '';\n  constructor(private api: ApiService, private router: Router) {}\n  ngOnInit() { this.api.myComplaints().subscribe(r => this.complaints = r); }\n  open(c: Complaint){ this.router.navigate(['/complaints', c._id]); }\n}\n","<h2>Welcome{{ userName ? ', ' + userName : '' }} ðŸ‘‹</h2>\n<h3>My Complaints</h3>\n\n<a class=\"btn\" routerLink=\"/new\">+ New complaint</a>\n\n<div *ngFor=\"let c of complaints\" class=\"card\" (click)=\"open(c)\" style=\"cursor:pointer\">\n  <h3>{{c.title}} â€” <span class=\"status {{c.status}}\">{{c.status}}</span></h3>\n  <p>{{c.description}}</p>\n  <img *ngIf=\"c.photo\" [src]=\"'/uploads/' + c.photo\" width=\"220\" style=\"border-radius:10px\"/>\n  <small>Filed: {{c.createdAt | date:'medium'}}</small>\n</div>\n<div *ngFor=\"let c of complaints\" class=\"card\">\n  <h3>{{ c.title }} â€” <span class=\"status {{c.status}}\">{{ c.status }}</span></h3>\n  <p>{{ c.description }}</p>\n\n  <div class=\"actions\">\n    <button (click)=\"open(c)\">View</button>\n\n    <!-- show Delete if owner or privileged -->\n    <button\n      *ngIf=\"canDelete(c)\"\n      class=\"danger\"\n      (click)=\"remove(c._id)\">\n      Delete\n    </button>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}