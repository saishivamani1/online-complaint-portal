{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(api, router) {\n      this.api = api;\n      this.router = router;\n      this.name = '';\n      this.email = '';\n      this.password = '';\n      this.role = 'citizen';\n      this.error = '';\n    }\n    submit() {\n      this.api.register({\n        name: this.name,\n        email: this.email,\n        password: this.password,\n        role: this.role\n      }).subscribe({\n        next: res => {\n          this.api.setToken(res.token);\n          if (res.user?.name) localStorage.setItem('userName', res.user.name);\n          if (res.user?.email) localStorage.setItem('userEmail', res.user.email);\n          this.router.navigateByUrl('/');\n        },\n        error: e => this.error = e.error?.message || 'Registration failed'\n      });\n    }\n    static {\n      this.ɵfac = function RegisterComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || RegisterComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterComponent,\n        selectors: [[\"app-register\"]],\n        decls: 19,\n        vars: 5,\n        consts: [[1, \"card\"], [3, \"ngSubmit\"], [\"placeholder\", \"Name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"Email\", \"name\", \"email\", \"type\", \"email\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"Password\", \"name\", \"password\", \"type\", \"password\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"role\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"citizen\"], [\"value\", \"authority\"], [\"value\", \"admin\"], [\"type\", \"submit\", 1, \"btn\"], [\"class\", \"error\", \"style\", \"color:#b91c1c\", 4, \"ngIf\"], [1, \"error\", 2, \"color\", \"#b91c1c\"]],\n        template: function RegisterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"h2\");\n            i0.ɵɵtext(1, \"Create your account\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\", 1);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.submit();\n            });\n            i0.ɵɵelementStart(4, \"input\", 2);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_4_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.name, $event) || (ctx.name = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_5_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"input\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_6_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"label\");\n            i0.ɵɵtext(8, \"Role\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"select\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_select_ngModelChange_9_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.role, $event) || (ctx.role = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(10, \"option\", 6);\n            i0.ɵɵtext(11, \"Citizen\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"option\", 7);\n            i0.ɵɵtext(13, \"Authority\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"option\", 8);\n            i0.ɵɵtext(15, \"Admin\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"button\", 9);\n            i0.ɵɵtext(17, \"Register\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(18, RegisterComponent_p_18_Template, 2, 1, \"p\", 10);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.name);\n            i0.ɵɵadvance();\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n            i0.ɵɵadvance();\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.role);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n          }\n        },\n        dependencies: [CommonModule, i3.NgIf, FormsModule, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n        encapsulation: 2\n      });\n    }\n  }\n  return RegisterComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","RegisterComponent","constructor","api","router","name","email","password","role","submit","register","subscribe","next","res","setToken","token","user","localStorage","setItem","navigateByUrl","e","message","ɵɵdirectiveInject","i1","ApiService","i2","Router","selectors","decls","vars","consts","template","RegisterComponent_Template","rf","ctx","ɵɵlistener","RegisterComponent_Template_form_ngSubmit_3_listener","ɵɵtwoWayListener","RegisterComponent_Template_input_ngModelChange_4_listener","$event","ɵɵtwoWayBindingSet","RegisterComponent_Template_input_ngModelChange_5_listener","RegisterComponent_Template_input_ngModelChange_6_listener","RegisterComponent_Template_select_ngModelChange_9_listener","ɵɵtemplate","RegisterComponent_p_18_Template","ɵɵtwoWayProperty","ɵɵproperty","i3","NgIf","i4","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","encapsulation"],"sources":["/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/register/register.component.ts","/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/register/register.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { ApiService } from '../../services/api.service';\n\n@Component({\n  selector: 'app-register',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterLink],\n  templateUrl: './register.component.html'\n})\nexport class RegisterComponent {\n  name=''; email=''; password=''; role='citizen'; error='';\n  constructor(private api: ApiService, private router: Router) {}\n  submit() {\n    this.api.register({ name: this.name, email: this.email, password: this.password, role: this.role }).subscribe({\n      next: (res) => {\n        this.api.setToken(res.token);\n        if (res.user?.name) localStorage.setItem('userName', res.user.name);\n        if (res.user?.email) localStorage.setItem('userEmail', res.user.email);\n        this.router.navigateByUrl('/');\n      },\n      error: (e) => this.error = e.error?.message || 'Registration failed'\n    });\n  }\n}\n","<h2>Create your account</h2><div class=\"card\"><form (ngSubmit)=\"submit()\"><input placeholder=\"Name\" [(ngModel)]=\"name\" name=\"name\" required /><input placeholder=\"Email\" [(ngModel)]=\"email\" name=\"email\" type=\"email\" required /><input placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\" type=\"password\" required /><label>Role</label><select [(ngModel)]=\"role\" name=\"role\"><option value=\"citizen\">Citizen</option><option value=\"authority\">Authority</option><option value=\"admin\">Admin</option></select><button class=\"btn\" type=\"submit\">Register</button><p class=\"error\" *ngIf=\"error\" style=\"color:#b91c1c\">{{error}}</p></form></div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}