{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ComplaintListComponent_div_0_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ComplaintListComponent_div_0_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const c_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.remove(c_r2._id));\n    });\n    i0.ɵɵtext(1, \" Delete \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ComplaintListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 2)(8, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ComplaintListComponent_div_0_Template_button_click_8_listener() {\n      const c_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.open(c_r2));\n    });\n    i0.ɵɵtext(9, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ComplaintListComponent_div_0_button_10_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", c_r2.title, \" \\u2014 \");\n    i0.ɵɵadvance();\n    i0.ɵɵclassMapInterpolate1(\"status \", c_r2.status, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r2.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(c_r2.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.canDelete(c_r2));\n  }\n}\nexport let ComplaintListComponent = /*#__PURE__*/(() => {\n  class ComplaintListComponent {\n    constructor(api, router) {\n      this.api = api;\n      this.router = router;\n      this.complaints = [];\n      this.userName = localStorage.getItem('userName') || '';\n    }\n    ngOnInit() {\n      this.api.myComplaints().subscribe(r => this.complaints = r);\n    }\n    open(c) {\n      this.router.navigate(['/complaints', c._id]);\n    }\n    static {\n      this.ɵfac = function ComplaintListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ComplaintListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ComplaintListComponent,\n        selectors: [[\"app-complaint-list\"]],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"actions\"], [3, \"click\"], [\"class\", \"danger\", 3, \"click\", 4, \"ngIf\"], [1, \"danger\", 3, \"click\"]],\n        template: function ComplaintListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ComplaintListComponent_div_0_Template, 11, 7, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngForOf\", ctx.complaints);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return ComplaintListComponent;\n})();","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵlistener","ComplaintListComponent_div_0_button_10_Template_button_click_0_listener","ɵɵrestoreView","_r4","c_r2","ɵɵnextContext","$implicit","ctx_r2","ɵɵresetView","remove","_id","ɵɵtext","ɵɵelementEnd","ComplaintListComponent_div_0_Template_button_click_8_listener","_r1","open","ɵɵtemplate","ComplaintListComponent_div_0_button_10_Template","ɵɵadvance","ɵɵtextInterpolate1","title","ɵɵclassMapInterpolate1","status","ɵɵtextInterpolate","description","ɵɵproperty","canDelete","ComplaintListComponent","constructor","api","router","complaints","userName","localStorage","getItem","ngOnInit","myComplaints","subscribe","r","c","navigate","ɵɵdirectiveInject","i1","ApiService","i2","Router","selectors","decls","vars","consts","template","ComplaintListComponent_Template","rf","ctx","ComplaintListComponent_div_0_Template","i3","NgForOf","NgIf","encapsulation"],"sources":["/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/complaint-list/complaint-list.component.ts","/media/sai/DATA/DESKTOP/Node/online-complaint-portal/frontend/src/app/components/complaint-list/complaint-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router, RouterLink } from '@angular/router';\nimport { ApiService } from '../../services/api.service';\nimport { Complaint } from '../../models/complaint.model';\n\n@Component({\n  selector: 'app-complaint-list',\n  standalone: true,\n  imports: [CommonModule, RouterLink],\n  templateUrl: './complaint-list.component.html'\n})\nexport class ComplaintListComponent implements OnInit {\n  complaints: Complaint[] = [];\n  userName = localStorage.getItem('userName') || '';\n  constructor(private api: ApiService, private router: Router) {}\n  ngOnInit() { this.api.myComplaints().subscribe(r => this.complaints = r); }\n  open(c: Complaint){ this.router.navigate(['/complaints', c._id]); }\n}\n","<div *ngFor=\"let c of complaints\" class=\"card\">\n  <h3>{{ c.title }} — <span class=\"status {{c.status}}\">{{ c.status }}</span></h3>\n  <p>{{ c.description }}</p>\n\n  <div class=\"actions\">\n    <button (click)=\"open(c)\">View</button>\n\n    <!-- show Delete if owner or privileged -->\n    <button\n      *ngIf=\"canDelete(c)\"\n      class=\"danger\"\n      (click)=\"remove(c._id)\">\n      Delete\n    </button>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}